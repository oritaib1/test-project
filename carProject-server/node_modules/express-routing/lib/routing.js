var fs = require("fs");
var path = require("path");

exports = module.exports = routing;

function routing(obj) {
    var fn = { };
    fn.app = obj;
    fn.load = function(dir) {
        var files = fs.readdirSync(dir);
        for(i in files) {
            if(/.*\.js$/.test(files[i])) {
                this.app.use(require(path.join(dir, files[i].slice(0, files[i].lastIndexOf('.')))));
            }
        }
    };

    return fn;
}
